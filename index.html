<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Hey Beautiful ğŸ’– Will you be my Valentine?</title>

<!-- Heart favicon -->
<link rel="icon" type="image/svg+xml"
href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
<path fill='%23ff4d7d'
d='M50 85 L15 45 C-5 20 20 -5 50 20 C80 -5 105 20 85 45 Z'/>
</svg>">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

<style>
:root{
--bg1:#ffd6e7;--bg2:#ffeef6;--card:#ffffffee;--text:#111;--yes:#ff3b7a;
}
[data-theme="dark"]{
--bg1:#0f0f1a;--bg2:#1a1026;--card:#1f1b2e;--text:#f5f5f5;
}
*{box-sizing:border-box}

body{
margin:0;min-height:100svh;display:grid;place-items:center;
background:radial-gradient(circle at top,var(--bg2),var(--bg1));
font-family:system-ui,sans-serif;color:var(--text);
transition:.4s;padding:14px;overflow:hidden;
}

#confettiCanvas{position:fixed;inset:0;pointer-events:none;z-index:999}

.toggle{
position:fixed;top:12px;right:12px;background:var(--card);
padding:10px 14px;border-radius:999px;font-size:18px;cursor:pointer;
z-index:10;
}

.card{
width:min(680px,100%);background:var(--card);
border-radius:26px;padding:24px;text-align:center;
box-shadow:0 20px 60px rgba(0,0,0,.25);
}

h1{font-size:clamp(24px,5vw,40px);margin:10px 0 18px}

.button-zone{
position:relative;width:100%;max-width:460px;height:140px;margin:auto;
}

button{
position:absolute;top:50%;transform:translateY(-50%);
padding:16px 26px;font-size:18px;font-weight:800;
border-radius:999px;border:none;cursor:pointer;
box-shadow:0 10px 24px rgba(0,0,0,.15);
}

#yesBtn{left:10%;background:var(--yes);color:white}
#noBtn{left:60%;background:#e5e7eb}

.hint{margin-top:12px;font-size:13px;opacity:.7}

.result,.final{
display:none;margin-top:20px;animation:fade .8s ease;
}

@keyframes fade{from{opacity:0;transform:scale(.96)}to{opacity:1}}

.share{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:12px}
.share button{position:static;transform:none;background:#6366f1;color:white}

.final h2{font-size:clamp(26px,5vw,42px)}
.final p{font-size:18px;line-height:1.6;opacity:.9}

audio{display:none}
</style>
</head>

<body>
<div class="toggle" id="themeToggle">ğŸŒ™</div>
<canvas id="confettiCanvas"></canvas>

<!-- ğŸµ BACKGROUND MUSIC -->
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2023/03/27/audio_9a4f79c2f1.mp3" type="audio/mpeg">
</audio>

<main class="card" id="card">
<h1>Hey Beautiful ğŸ’•<br>Will you be my Valentine?</h1>

<section class="button-zone" id="zone">
<button id="yesBtn">Yes ğŸ’–</button>
<button id="noBtn">No ğŸ™ˆ</button>
</section>

<div class="hint" id="hint">No escape ğŸ˜</div>

<section class="result" id="result">
<h2>YAYYY ğŸ¥°</h2>
<div class="share">
<button id="shareBtn">Share ğŸ’Œ</button>
<button id="qrBtn">QR ğŸ“±</button>
</div>
<div id="qrBox"></div>
</section>

<!-- ğŸ FINAL SURPRISE -->
<section class="final" id="final">
<h2>For You ğŸ’</h2>
<p>
From this moment on,<br>
youâ€™re officially my favourite notification ğŸ“±<br><br>
Thank you for saying yesâ€¦<br>
You just made my heart very, very happy ğŸ’–
</p>
</section>
</main>

<script>
const html=document.documentElement;
const toggle=document.getElementById("themeToggle");
if(matchMedia("(prefers-color-scheme: dark)").matches){
html.dataset.theme="dark";toggle.textContent="â˜€ï¸";
}
toggle.onclick=()=>{
html.dataset.theme=html.dataset.theme==="dark"?"light":"dark";
toggle.textContent=html.dataset.theme==="dark"?"â˜€ï¸":"ğŸŒ™";
};

const zone=yesBtn.closest(".button-zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");
const final=document.getElementById("final");
const hint=document.getElementById("hint");
const music=document.getElementById("bgMusic");
const canvas=document.getElementById("confettiCanvas");

function resize(){
const dpr=devicePixelRatio||1;
canvas.width=innerWidth*dpr;canvas.height=innerHeight*dpr;
}
resize();addEventListener("resize",resize);

const confettiInstance=confetti.create(canvas,{resize:false});

zone.onpointermove=()=>noBtn.style.left=Math.random()*60+"%";

yesBtn.onclick=()=>{
zone.style.display="none";
hint.style.display="none";
result.style.display="block";
music.volume=0.35;
music.play();
confettiInstance({particleCount:280,spread:150});

setTimeout(()=>{
result.style.display="none";
final.style.display="block";
},3500);
};

// SHARE
shareBtn.onclick=async()=>{
if(navigator.share){
await navigator.share({title:"Valentine ğŸ’–",text:"Open this ğŸ˜Œ",url:location.href});
}else alert(location.href);
};

// QR
qrBtn.onclick=()=>{
qrBox.innerHTML="";
qrBox.style.display="block";
new QRCode(qrBox,{text:location.href,width:160,height:160});
};
</script>
</body>
</html>

